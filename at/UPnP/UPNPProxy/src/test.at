import ~.net.suztomo.at.upnp.upnp;

import /.at.lang.futures;

whenUPnP: "Printer" discovered: {|p|
        system.println("Printer found!");
    when: (p<-sendUPnPMessage("print", "some string")) becomes: {|res|
            system.println("async result returned! " + res);
    }
}


/*
deftype Printer;

when: Printer discovered: {|p|
        system.println("printer found");
};


def a := actor: {
    def service := object: { 
        def print(aDoc) {
            system.println("printing " +aDoc);
        }
    };
    export: self as: Printer;
}


*/